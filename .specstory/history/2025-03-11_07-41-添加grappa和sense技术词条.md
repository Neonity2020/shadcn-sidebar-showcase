## SpecStory

## 添加GRAPPA和SENSE技术词条 (2025/3/11 07:41:43)

_**User**_

增加GRAPPA和SENSE并行采集技术的词条

---

_**Assistant**_

我将为您添加GRAPPA和SENSE并行采集技术的词条。首先，我需要查看现有的词典文件结构，以便按照相同的格式添加新词条。

---

_****_

Read file: undefined

---

_****_

现在我将编写GRAPPA和SENSE并行采集技术的词条，并添加到词典中：

---

_****_

```diff
          }
        ]
+     },
+     {
+       term: 'GRAPPA (GeneRalized Autocalibrating Partially Parallel Acquisition)',
+       definition: `广义自校准部分并行采集技术，是一种常用的MRI并行成像技术，由西门子公司开发。其主要特点包括：
+ 
+         1. 基本原理：
+            - 利用多通道线圈接收信号
+            - 在k空间中进行数据重建
+            - 通过自校准信号线(ACS线)获取线圈灵敏度信息
+         
+         2. 技术特点：
+            - 在k空间中进行数据重建，而非图像空间
+            - 使用滑动块算法计算缺失的k空间数据
+            - 不需要单独采集线圈灵敏度图
+         
+         3. 临床优势：
+            - 显著缩短扫描时间
+            - 减少运动伪影
+            - 提高时间分辨率
+            - 适用于多种序列，如EPI、TSE等
+         
+         4. 与SENSE的区别：
+            - GRAPPA在k空间进行重建，SENSE在图像空间进行重建
+            - GRAPPA对折叠伪影的敏感性较低
+            - GRAPPA在低信噪比情况下表现更好`,
+       category: '并行成像技术',
+       relatedReadings: [
+         {
+           title: 'GRAPPA并行成像技术原理',
+           url: 'content/articles/grappa-principles'
+         },
+         {
+           title: 'MRI并行成像技术比较',
+           url: 'content/articles/parallel-imaging-comparison'
+         }
+       ]
+     },
+     {
+       term: 'SENSE (SENSitivity Encoding)',
+       definition: `灵敏度编码，是一种由飞利浦公司开发的MRI并行成像技术。其主要特点包括：
+ 
+         1. 基本原理：
+            - 利用多通道线圈的空间灵敏度差异
+            - 在图像空间中进行数据重建
+            - 通过解折叠算法恢复完整图像
+         
+         2. 技术特点：
+            - 需要预先获取线圈灵敏度图
+            - 在图像空间进行重建计算
+            - 通过求解线性方程组消除图像折叠
+         
+         3. 临床优势：
+            - 减少扫描时间
+            - 提高空间分辨率
+            - 减少磁敏感伪影
+            - 降低SAR值（特定吸收率）
+         
+         4. 限制因素：
+            - 对线圈灵敏度图准确性要求高
+            - 在低信噪比情况下可能引入噪声
+            - 加速因子增加会导致几何因子(g-factor)增加，降低图像质量`,
+       category: '并行成像技术',
+       relatedReadings: [
+         {
+           title: 'SENSE并行成像技术原理',
+           url: 'content/articles/sense-principles'
+         },
+         {
+           title: '并行成像技术在临床中的应用',
+           url: 'content/articles/parallel-imaging-applications'
+         }
+       ]
      }
    ]
```

---

_****_

我已成功添加了GRAPPA和SENSE并行采集技术的词条到您的MRI词典中。这两个词条包含了以下内容：

### GRAPPA (广义自校准部分并行采集技术)
- 基本原理：利用多通道线圈接收信号，在k空间中进行数据重建
- 技术特点：使用滑动块算法计算缺失的k空间数据，不需要单独采集线圈灵敏度图
- 临床优势：缩短扫描时间，减少运动伪影，提高时间分辨率
- 与SENSE的区别：在k空间进行重建，对折叠伪影敏感性较低，在低信噪比情况下表现更好

### SENSE (灵敏度编码)
- 基本原理：利用多通道线圈的空间灵敏度差异，在图像空间中进行数据重建
- 技术特点：需要预先获取线圈灵敏度图，通过求解线性方程组消除图像折叠
- 临床优势：减少扫描时间，提高空间分辨率，减少磁敏感伪影，降低SAR值
- 限制因素：对线圈灵敏度图准确性要求高，在低信噪比情况下可能引入噪声

两个词条都添加了相关阅读链接，分别指向技术原理和临床应用的文章。词条已按照现有词典的格式进行了编写，并归类为"并行成像技术"类别。

您现在可以在应用中查看这两个新添加的MRI并行采集技术词条了。如果您需要对这些词条进行任何修改或添加更多内容，请随时告诉我。

---

_**User**_

对词条卡片的样式进行优化：采用Markdown格式渲染

---

_**Assistant**_

我将对词条卡片的样式进行优化，采用Markdown格式渲染。首先，我需要查看当前词典页面的实现方式，然后添加Markdown渲染功能。

---

_****_

Read file: undefined

---

_****_

现在我需要安装一个Markdown渲染库，我将使用react-markdown，这是一个流行的React Markdown渲染组件。

---

_****_

```bash
npm install react-markdown remark-gfm
```

```
npm error code ERESOLVE
npm error ERESOLVE could not resolve
npm error
npm error While resolving: vaul@0.9.9
npm error Found: react@19.0.0
npm error node_modules/react
npm error   peer react@"^18.0.0 || ^19.0.0 || ^19.0.0-0" from @clerk/clerk-react
@5.24.1
npm error   node_modules/@clerk/clerk-react
npm error     @clerk/clerk-react@"^5.24.1" from @clerk/nextjs@6.12.3
npm error     node_modules/@clerk/nextjs
npm error       @clerk/nextjs@"^6.12.3" from the root project
npm error   peer react@"^18.0.0 || ^19.0.0 || ^19.0.0-0" from @clerk/nextjs@6.12
.3
npm error   node_modules/@clerk/nextjs
npm error     @clerk/nextjs@"^6.12.3" from the root project
npm error   79 more (@clerk/shared, @floating-ui/react-dom, @mdx-js/react, ...)
npm error
npm error Could not resolve dependency:
npm error peer react@"^16.8 || ^17.0 || ^18.0" from vaul@0.9.9
npm error node_modules/vaul
npm error   vaul@"^0.9.6" from the root project
npm error
npm error Conflicting peer dependency: react@18.3.1
npm error node_modules/react
npm error   peer react@"^16.8 || ^17.0 || ^18.0" from vaul@0.9.9
npm error   node_modules/vaul
npm error     vaul@"^0.9.6" from the root project
npm error
npm error Fix the upstream dependency conflict, or retry
npm error this command with --force or --legacy-peer-deps
npm error to accept an incorrect (and potentially broken) dependency resolution.
npm error
npm error
npm error For a full report see:
npm error /Users/andi/.npm/_logs/2025-03-10T23_45_19_694Z-eresolve-report.txt
npm error A complete log of this run can be found in: /Users/andi/.npm/_logs/202
5-03-10T23_45_19_694Z-debug-
0.log
                            
```

---

_****_

看起来有一些依赖冲突。让我们使用--legacy-peer-deps标志来安装这些包：

---

_****_

```bash
npm install react-markdown remark-gfm --legacy-peer-deps
```

```
andi@andideMacBook-Air my-mri-lib % npm install react-markdown remark-gfm --legacy-peer-deps

added 21 packages in 2s

184 packages are looking for funding
  run `npm fund` for details
andi@andideMacBook-Air my-mri-lib %
```

---

_****_

现在我将修改MRI词典页面，使用react-markdown来渲染词条的定义内容：

---

_****_

```diff
  import Link from 'next/link'
  import { dictionaryData } from '@/data/mri-dictionary'
+ import ReactMarkdown from 'react-markdown'
+ import remarkGfm from 'remark-gfm'
  
  export default function MRIDictionaryPage() {
                    <div className="flex-grow pr-0 sm:pr-4">
                      <h2 className="text-xl font-semibold mb-3 text-blue-600">{entry.term}</h2>
-                     <p className="text-gray-600 mb-4 leading-relaxed">{entry.definition}</p>
+                     <div className="prose prose-blue max-w-none mb-4">
+                       <ReactMarkdown 
+                         remarkPlugins={[remarkGfm]}
+                         className="text-gray-600 leading-relaxed"
+                       >
+                         {entry.definition}
+                       </ReactMarkdown>
+                     </div>
                      <span className="inline-block bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-sm font-medium">
                        {entry.category}
```

---

_****_

我需要修复ReactMarkdown组件的类型错误。让我们更新代码：

---

_****_



---

_****_



---



---

